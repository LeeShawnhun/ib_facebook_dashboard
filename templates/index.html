<!-- index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta Ads Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/common.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/navbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/index.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">Meta Ads Monitor</div>
            <div class="nav-links">
                <a href="/" class="nav-link" id="homeLink">대시보드</a>
                <a href="/statistics" class="nav-link" id="statsLink">통계</a>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="header">
            <h1 class="title">Meta 광고 현황 대시보드</h1>
            <div id="updateTime" class="update-time">
                마지막 업데이트: 로딩중...
            </div>
        </div>
        
        <!-- 팀 선택 버튼 -->
        <div class="team-buttons">
            <button onclick="loadTeamData('team1')" class="team-button" data-team="team1">1팀</button>
            <button onclick="loadTeamData('team2A')" class="team-button" data-team="team2A">2팀A</button>
            <button onclick="loadTeamData('team2B')" class="team-button" data-team="team2B">2팀B</button>
            <button onclick="loadTeamData('team3')" class="team-button" data-team="team3">3팀</button>
            <button onclick="loadTeamData('team4')" class="team-button" data-team="team4">4팀</button>
            <button onclick="loadTeamData('teamOverseas')" class="team-button" data-team="teamOverseas">해외진출</button>
        </div>

        <div class="teamAndBackup">
            <h2 id="currentTeam" class="current-team">1팀 광고 현황</h2>
            <input type="file" id="dbFileInput" accept=".db" style="display: none;">
            <button onclick="document.getElementById('dbFileInput').click()" class="admin-button">
                DB 복원하기
            </button>
            <div id="restoreStatus" class="status-message"></div>
        </div>

        <div id="loading" class="loading" style="display: none;">
            데이터를 불러오는 중...
        </div>

        <div class="table-container">
            <div class="scroll-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>계정</th>
                            <th>캠페인</th>
                            <th>광고 그룹</th>
                            <th>광고</th>
                            <th>거절 사유</th>
                            <th>마지막 수정일</th>
                            <th>기획팀 의견</th>
                            <th>집행팀 의견</th>
                        </tr>
                    </thead>
                    <tbody id="adsTable">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', path='/js/index.js') }}"></script>
</body>
</html>